---
import { themeConfig } from '@/config/default'
import { SEO } from 'astro-seo'
import type { TwitterCardType } from 'astro-seo'

interface Props {
  title?: string
  description?: string
  image?: string
  article?: boolean
  canonicalURL?: URL
}

const { title, description, image, article, canonicalURL } = Astro.props

const siteTitle = title
  ? `${title} - ${themeConfig.site.title}`
  : themeConfig.site.title

const siteDescription = description || themeConfig.site.description

const openGraph = {
  basic: {
    title: siteTitle,
    type: article ? 'article' : 'website',
    image: image || '/og-image.png',
  },
  optional: {
    description: siteDescription,
    siteName: themeConfig.site.title,
  },
  image: {
    alt: siteTitle,
  },
}

const twitter: {
  card: TwitterCardType
  site?: string
  creator?: string
} = {
  card: image ? 'summary_large_image' : 'summary',
  site: themeConfig.site.title,
  creator: themeConfig.author,
}
---

<SEO
  title={siteTitle}
  description={siteDescription}
  openGraph={openGraph}
  twitter={twitter}
  canonical={canonicalURL}
/>
